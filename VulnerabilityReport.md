## Vulnerability Report for Silly Wonko

This is a report based on 4 of the [top 10 OWASP Security](https://dotnetcoretutorials.com/2017/12/15/owasp-top-10-asp-net-core-broken-access-control/) and what steps have been taken or added to increase the security of the site. With the use of .Net Core 2.1 a lot of these protections are now built in by default depending on the packages you are using and we will go into detail as we break down some of the securities.

***
### SQL Injection

SQL Injection is the act of a user tries to add to an incoming query, or “inject”, additional commands to try and find out more about a specific database. These kinds of attacks can lead to a breach and compromise databases especially if only one database holds all of the information for that application.

With our application, we are using the Entity Framework which allows us to avoid the need to write our own full SQL statements and do more of a parameterized query. This prevents injection by checking for specifically typed parameters and only those requested in the route. This removes the ability to add extra commands such as JOINS or logic statements into a query at execution.

Another step to help secure our database in this application is we have separated our user database from our warehouse database which removes extra points of entry to sensitive data which we will go into with later vulnerabilities
***
### Broken Access Control

Broken Access Control is the act of a user by tampering with the url, cookies, token or content of the page to access data that they should not have access too. This is similar to the SQL Injection but this covers a much more broader approach to things such as Account management whereas SQL Injection is a very specific attack.

We have mitigated the majority of this problem with the use of Identity. The administration account is the only account that has access to specific database commands that are still parameterized but are checked with Authorization tags and policies within the Identity Framework. We’ve added more `[Authorize]` tags to lock the site down even further to remove the ability to access things such as a profile page or cart if you are not logged in.

A lot of the profile specific requests are also tied to Identity so this prevents users from trying to dupe and access another profile accounts information as the session keeps track of what user is logged in and will only find the information of the logged in user during that time

***
### Cross-site Scripting 

Cross-site scripting attacks are the result of an attack who will attempt to insert javascript (the most common type but there are others) into the url and either obtain information or change things such as stylings in order to trick the user.

With this site, we have lowered the probability of a javascript attack since this site currently does not use any scripting to perform actions. All of it is handled through the .Net Core framework and Razor Pages which is the second line of defense. A lot of the inputs are escaped with the .Net Core 2 which has enabled us to begin with a more secure application from the start of development.

Our site also does not store any user input other than button clicks to create cart items and check out. Only account information(name, email, etc) in the creation process is stored and that only lives within the Identity database.

***
### Password Storage

When it comes to storing password, They should never be stored in plain text as user tend to pick similar passwords or use previous passwords from one site to the next. This opens you up to become a liability for not just your site but other websites as well.

We alleviate this problem by using Identity. Identity will hash and salt a users password right out of the box and uses PBKDF2 hashing algorithm which is one of the most up to date and secure algorithm as of writing this. This also protects other users in the event that an account is compromised, even if other users have the same password, the salt used will be different from the compromised account and remained protected.

***
 ### Resources

 While going through our site we used these two as references while attempting to emulate their examples:
 * [dotNetCoretutorials](https://dotnetcoretutorials.com/2017/12/15/owasp-top-10-asp-net-core-broken-access-control/)
 * [OWASP .NET Guidance](https://www.owasp.org/index.php/.NET_Security_Cheat_Sheet#.NET_Framework_Guidance)


